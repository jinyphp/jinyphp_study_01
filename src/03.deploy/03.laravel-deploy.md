---
layout: docs
---

# 3ë‹¨ê³„: Laravel í”„ë¡œì íŠ¸ ë°°í¬

[â† ì´ì „: ì„œë²„ í™˜ê²½ ì„¤ì •](./02.server-setup.md) | [ë©”ì¸ìœ¼ë¡œ](./index.md) | [ë‹¤ìŒ: ë„ë©”ì¸/HTTPS ì„¤ì • â†’](./04.domain-https.md)

---

ì´ì œ ë“œë””ì–´ Laravel í”„ë¡œì íŠ¸ë¥¼ ì„œë²„ì— ë°°í¬í•  ì°¨ë¡€ì˜ˆìš”! GitHubì—ì„œ ì½”ë“œë¥¼ ê°€ì ¸ì™€ì„œ ì‹¤ì œë¡œ ë™ì‘í•˜ë„ë¡ ë§Œë“¤ì–´ë´…ì‹œë‹¤.

## ì´ ë‹¨ê³„ì—ì„œ ë°°ìš¸ ë‚´ìš©

- GitHub ì €ì¥ì†Œ ì¤€ë¹„ ë° ì ‘ê·¼ ì„¤ì •
- ì„œë²„ë¡œ í”„ë¡œì íŠ¸ í´ë¡ í•˜ê¸°
- Composerë¡œ ì˜ì¡´ì„± ì„¤ì¹˜
- .env íŒŒì¼ ì„¤ì •í•˜ê¸°
- ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
- Laravel ìºì‹œ ìµœì í™”
- íŒŒì¼ ê¶Œí•œ ì„¤ì •
- í”„ë¡ íŠ¸ì—”ë“œ ì—ì…‹ ë¹Œë“œ

> **ğŸ’¡ ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 30-40ë¶„ ì •ë„ ê±¸ë ¤ìš”.

---

## 3.1 GitHub ì €ì¥ì†Œ ì¤€ë¹„í•˜ê¸°

### GitHubì— í”„ë¡œì íŠ¸ê°€ ìˆë‚˜ìš”?

ì•„ì§ GitHubì— í”„ë¡œì íŠ¸ë¥¼ ì˜¬ë¦¬ì§€ ì•Šìœ¼ì…¨ë‹¤ë©´, ë¨¼ì € ì˜¬ë ¤ì£¼ì„¸ìš”. ë¡œì»¬ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”:

```bash
# ë¡œì»¬ í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ
git init
git add .
git commit -m "Initial commit"
git branch -M main
git remote add origin https://github.com/your-username/jinyerp_demo_01.git
git push -u origin main
```

### ì €ì¥ì†Œ íƒ€ì… í™•ì¸

ì €ì¥ì†Œê°€ **ê³µê°œ(Public)**ì¸ê°€ìš”, **ë¹„ê³µê°œ(Private)**ì¸ê°€ìš”?

#### ê³µê°œ ì €ì¥ì†Œì¸ ê²½ìš°
- ì¶”ê°€ ì„¤ì • ë¶ˆí•„ìš”
- HTTPSë¡œ ë°”ë¡œ í´ë¡  ê°€ëŠ¥

#### ë¹„ê³µê°œ ì €ì¥ì†Œì¸ ê²½ìš°
- Personal Access Token ë˜ëŠ” SSH í‚¤ í•„ìš”
- ì•„ë˜ ë°©ë²• ì¤‘ í•˜ë‚˜ ì„ íƒ

---

## 3.2 ì„œë²„ì—ì„œ GitHub ì ‘ê·¼ ì„¤ì •í•˜ê¸°

### ë°©ë²• 1: SSH í‚¤ ì‚¬ìš© (ê¶Œì¥)

SSH í‚¤ë¥¼ ì‚¬ìš©í•˜ë©´ ë§¤ë²ˆ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•  í•„ìš”ê°€ ì—†ì–´ìš”.

#### 1ë‹¨ê³„: SSH í‚¤ ìƒì„±

ì„œë²„ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ ì‹¤í–‰:

```bash
# SSH í‚¤ ìƒì„±
ssh-keygen -t rsa -b 4096 -C "deploy@example.com"

# Enter í‚¤ë¥¼ 3ë²ˆ ëˆ„ë¥´ì„¸ìš” (ê¸°ë³¸ ê²½ë¡œ, ë¹„ë°€ë²ˆí˜¸ ì—†ìŒ)
```

#### 2ë‹¨ê³„: ê³µê°œ í‚¤ ë³µì‚¬

```bash
# ê³µê°œ í‚¤ ë‚´ìš© ì¶œë ¥
cat ~/.ssh/id_rsa.pub
```

ì¶œë ¥ëœ ë‚´ìš©ì„ ì „ë¶€ ë³µì‚¬í•˜ì„¸ìš” (ssh-rsaë¡œ ì‹œì‘í•˜ëŠ” ê¸´ ë¬¸ìì—´)

#### 3ë‹¨ê³„: GitHubì— SSH í‚¤ ë“±ë¡

1. GitHub ì›¹ì‚¬ì´íŠ¸ ì ‘ì†
2. **Settings** â†’ **SSH and GPG keys** ë©”ë‰´
3. **New SSH key** í´ë¦­
4. **Title**: "Laravel Server" (ì•Œì•„ë³´ê¸° ì‰¬ìš´ ì´ë¦„)
5. **Key**: ë³µì‚¬í•œ ê³µê°œ í‚¤ ë¶™ì—¬ë„£ê¸°
6. **Add SSH key** í´ë¦­

#### 4ë‹¨ê³„: SSH ì—°ê²° í…ŒìŠ¤íŠ¸

```bash
# GitHub SSH ì—°ê²° í…ŒìŠ¤íŠ¸
ssh -T git@github.com

# ì¶œë ¥:
# Hi username! You've successfully authenticated...
```

### ë°©ë²• 2: Personal Access Token (ê°„ë‹¨í•œ ë°©ë²•)

#### 1ë‹¨ê³„: Token ìƒì„±

1. GitHub **Settings** â†’ **Developer settings** â†’ **Personal access tokens** â†’ **Tokens (classic)**
2. **Generate new token (classic)** í´ë¦­
3. **Note**: "Laravel Deploy Server"
4. **Expiration**: 90 days (ë˜ëŠ” ì›í•˜ëŠ” ê¸°ê°„)
5. **Select scopes**: `repo` ì²´í¬
6. **Generate token** í´ë¦­
7. **ìƒì„±ëœ í† í° ë³µì‚¬** (ë‹¤ì‹œ ë³¼ ìˆ˜ ì—†ì–´ìš”!)

#### 2ë‹¨ê³„: Token ì €ì¥

```bash
# í† í°ì„ ì•ˆì „í•œ ê³³ì— ì €ì¥
echo "ghp_xxxxxxxxxxxxxxxxxxxx" > ~/.github_token
chmod 600 ~/.github_token
```

---

## 3.3 í”„ë¡œì íŠ¸ í´ë¡ í•˜ê¸°

### ì›¹ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™

```bash
# ì›¹ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd /var/www

# í˜„ì¬ ë””ë ‰í† ë¦¬ í™•ì¸
ls -la
```

### GitHubì—ì„œ í”„ë¡œì íŠ¸ í´ë¡ 

#### SSH ë°©ì‹ (ê¶Œì¥)

```bash
# SSHë¡œ í´ë¡  (ë¹„ê³µê°œ/ê³µê°œ ì €ì¥ì†Œ ëª¨ë‘ ê°€ëŠ¥)
sudo git clone git@github.com:your-username/jinyerp_demo_01.git
```

#### HTTPS ë°©ì‹ (ê³µê°œ ì €ì¥ì†Œ)

```bash
# HTTPSë¡œ í´ë¡  (ê³µê°œ ì €ì¥ì†Œ)
sudo git clone https://github.com/your-username/jinyerp_demo_01.git
```

#### HTTPS + Token ë°©ì‹ (ë¹„ê³µê°œ ì €ì¥ì†Œ)

```bash
# HTTPS + Tokenìœ¼ë¡œ í´ë¡  (ë¹„ê³µê°œ ì €ì¥ì†Œ)
sudo git clone https://ghp_your_token@github.com/your-username/jinyerp_demo_01.git
```

> **ğŸ’¡ íŒ**: `your-username`ê³¼ `jinyerp_demo_01`ì„ ì‹¤ì œ ì €ì¥ì†Œ ì •ë³´ë¡œ ë°”ê¿”ì£¼ì„¸ìš”!

### í´ë¡  ì™„ë£Œ í™•ì¸

```bash
# í´ë¡ ëœ ë””ë ‰í† ë¦¬ í™•ì¸
ls -la /var/www/

# í”„ë¡œì íŠ¸ êµ¬ì¡° í™•ì¸
ls -la /var/www/jinyerp_demo_01
```

Laravel í”„ë¡œì íŠ¸ íŒŒì¼ë“¤(app, config, routes ë“±)ì´ ë³´ì´ë©´ ì„±ê³µ! ğŸ‰

---

## 3.4 íŒŒì¼ ì†Œìœ ê¶Œ ë° ê¶Œí•œ ì„¤ì •

### ì›¹ì„œë²„ ì‚¬ìš©ìë¡œ ì†Œìœ ê¶Œ ë³€ê²½

NginxëŠ” `www-data` ì‚¬ìš©ìë¡œ ì‹¤í–‰ë˜ë¯€ë¡œ ì†Œìœ ê¶Œì„ ë³€ê²½í•´ì•¼ í•´ìš”:

```bash
# ì „ì²´ í”„ë¡œì íŠ¸ ì†Œìœ ê¶Œì„ www-dataë¡œ ë³€ê²½
sudo chown -R www-data:www-data /var/www/jinyerp_demo_01
```

### ê¸°ë³¸ ê¶Œí•œ ì„¤ì •

```bash
# ê¸°ë³¸ íŒŒì¼ ê¶Œí•œ ì„¤ì •
sudo chmod -R 755 /var/www/jinyerp_demo_01
```

### Laravel íŠ¹ìˆ˜ ë””ë ‰í† ë¦¬ ê¶Œí•œ

Laravelì˜ storageì™€ bootstrap/cache ë””ë ‰í† ë¦¬ëŠ” ì“°ê¸° ê¶Œí•œì´ í•„ìš”í•´ìš”:

```bash
# storage ë””ë ‰í† ë¦¬ ì“°ê¸° ê¶Œí•œ
sudo chmod -R 775 /var/www/jinyerp_demo_01/storage

# bootstrap/cache ë””ë ‰í† ë¦¬ ì“°ê¸° ê¶Œí•œ
sudo chmod -R 775 /var/www/jinyerp_demo_01/bootstrap/cache
```

---

## 3.5 Composer ì˜ì¡´ì„± ì„¤ì¹˜

### composer.json íŒŒì¼ í™•ì¸

```bash
# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd /var/www/jinyerp_demo_01

# composer.json íŒŒì¼ í™•ì¸
cat composer.json
```

### ì˜ì¡´ì„± ì„¤ì¹˜

```bash
# www-data ì‚¬ìš©ìë¡œ Composer ì˜ì¡´ì„± ì„¤ì¹˜
sudo -u www-data composer install --optimize-autoloader --no-dev
```

> **ğŸ’¡ ì˜µì…˜ ì„¤ëª…**:
> - `--optimize-autoloader`: ì„±ëŠ¥ ìµœì í™”
> - `--no-dev`: ê°œë°œìš© íŒ¨í‚¤ì§€ ì œì™¸ (í”„ë¡œë•ì…˜ í™˜ê²½)

### 1GB RAM ì„œë²„ì—ì„œ ë©”ëª¨ë¦¬ ë¶€ì¡± ì‹œ

ë©”ëª¨ë¦¬ê°€ ë¶€ì¡±í•˜ë‹¤ëŠ” ì—ëŸ¬ê°€ ë‚˜ì˜¤ë©´:

```bash
# ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì—†ì´ ì„¤ì¹˜
sudo -u www-data composer install --optimize-autoloader --no-dev --no-scripts

# ìŠ¤í¬ë¦½íŠ¸ ë”°ë¡œ ì‹¤í–‰
sudo -u www-data composer run-script post-autoload-dump
```

### ì„¤ì¹˜ í™•ì¸

```bash
# Composer ì˜ì¡´ì„± í™•ì¸
sudo -u www-data composer check-platform-reqs

# vendor ë””ë ‰í† ë¦¬ í™•ì¸
ls -la vendor/

# Laravel ëª…ë ¹ì–´ í…ŒìŠ¤íŠ¸
sudo -u www-data php artisan --version
```

Laravel ë²„ì „ì´ ì¶œë ¥ë˜ë©´ ì„±ê³µ! ğŸ‰

---

## 3.6 í™˜ê²½ ì„¤ì • íŒŒì¼ êµ¬ì„±

### .env íŒŒì¼ ìƒì„±

```bash
# .env.exampleì—ì„œ .env ìƒì„±
sudo -u www-data cp .env.example .env
```

### .env íŒŒì¼ í¸ì§‘

```bash
# .env íŒŒì¼ í¸ì§‘
sudo nano .env
```

ë‹¤ìŒ ë‚´ìš©ì„ ì°¾ì•„ì„œ ìˆ˜ì •í•´ì£¼ì„¸ìš”:

```env
# ì• í”Œë¦¬ì¼€ì´ì…˜ ê¸°ë³¸ ì„¤ì •
APP_NAME="Jiny ERP Demo"
APP_ENV=production
APP_DEBUG=false
APP_KEY=
APP_TIMEZONE=Asia/Seoul
APP_URL=http://your-server-ip

# ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=jinyerp_demo
DB_USERNAME=jinyerp
DB_PASSWORD=your_mysql_password_here

# ìºì‹œ ì„¤ì •
CACHE_STORE=redis
SESSION_DRIVER=redis
SESSION_LIFETIME=120
QUEUE_CONNECTION=redis

# Redis ì„¤ì •
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=your_redis_password_here
REDIS_PORT=6379
REDIS_DB=0

# ë¡œê·¸ ì„¤ì •
LOG_CHANNEL=stack
LOG_LEVEL=error

# íŒŒì¼ ì‹œìŠ¤í…œ
FILESYSTEM_DISK=local

# ë¸Œë¡œë“œìºìŠ¤íŠ¸
BROADCAST_DRIVER=log
```

> **ğŸ”’ ì¤‘ìš”**:
> - `DB_PASSWORD`: MySQL ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ (2ë‹¨ê³„ì—ì„œ ì„¤ì •í•œ ê²ƒ)
> - `REDIS_PASSWORD`: Redis ë¹„ë°€ë²ˆí˜¸ (2ë‹¨ê³„ì—ì„œ ì„¤ì •í•œ ê²ƒ)
> - `APP_URL`: í˜„ì¬ëŠ” IP ì£¼ì†Œ, 4ë‹¨ê³„ì—ì„œ ë„ë©”ì¸ìœ¼ë¡œ ë³€ê²½

ì €ì¥í•˜ê³  ì¢…ë£Œ: `Ctrl + X`, `Y`, `Enter`

### .env íŒŒì¼ ë³´ì•ˆ ì„¤ì •

```bash
# .env íŒŒì¼ ê¶Œí•œ ì œí•œ (ì¤‘ìš”!)
sudo chmod 600 /var/www/jinyerp_demo_01/.env
sudo chown www-data:www-data /var/www/jinyerp_demo_01/.env
```

> **ğŸ”’ ë³´ì•ˆ**: .env íŒŒì¼ì—ëŠ” ì¤‘ìš”í•œ ì •ë³´ê°€ ë“¤ì–´ìˆì–´ì„œ ì½ê¸° ê¶Œí•œì„ ì œí•œí•´ì•¼ í•´ìš”.

### ì£¼ìš” Laravel ì„¤ì • íŒŒì¼ ê²½ë¡œ

ë‚˜ì¤‘ì— í•„ìš”í•  ë•Œë¥¼ ìœ„í•´:

- **í™˜ê²½ ì„¤ì •**: `/var/www/jinyerp_demo_01/.env`
- **ì„¤ì • ë””ë ‰í† ë¦¬**: `/var/www/jinyerp_demo_01/config/`
- **ë¼ìš°íŠ¸ íŒŒì¼**: `/var/www/jinyerp_demo_01/routes/web.php`
- **ë¡œê·¸ ë””ë ‰í† ë¦¬**: `/var/www/jinyerp_demo_01/storage/logs/`

---

## 3.7 Laravel ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ˆê¸°í™”

### ì• í”Œë¦¬ì¼€ì´ì…˜ í‚¤ ìƒì„±

Laravelì˜ ì•”í˜¸í™”ì— ì‚¬ìš©ë˜ëŠ” ê³ ìœ í•œ í‚¤ë¥¼ ìƒì„±í•´ìš”:

```bash
# ì• í”Œë¦¬ì¼€ì´ì…˜ í‚¤ ìƒì„±
sudo -u www-data php artisan key:generate

# ì¶œë ¥:
# Application key set successfully.
```

### ìƒì„±ëœ í‚¤ í™•ì¸

```bash
# .env íŒŒì¼ì—ì„œ APP_KEY í™•ì¸
grep APP_KEY /var/www/jinyerp_demo_01/.env

# ì¶œë ¥ ì˜ˆì‹œ:
# APP_KEY=base64:xxxxxxxxxxxxxxxxxxxxxxxxxx
```

---

## 3.8 ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜

### ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í…ŒìŠ¤íŠ¸

```bash
# ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒíƒœ í™•ì¸ (ì—°ê²° í…ŒìŠ¤íŠ¸)
sudo -u www-data php artisan migrate:status
```

ì—ëŸ¬ ì—†ì´ ë§ˆì´ê·¸ë ˆì´ì…˜ ëª©ë¡ì´ ë‚˜ì˜¤ë©´ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì„±ê³µ!

### ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰

```bash
# í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
sudo -u www-data php artisan migrate --force
```

> **ğŸ’¡ `--force` ì˜µì…˜**: í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” í™•ì¸ ë©”ì‹œì§€ ì—†ì´ ì‹¤í–‰í•˜ê¸° ìœ„í•´ í•„ìš”í•´ìš”.

### ì‹œë“œ ë°ì´í„° ì‹¤í–‰ (ì„ íƒì‚¬í•­)

ì´ˆê¸° ë°ì´í„°ê°€ ìˆë‹¤ë©´:

```bash
# ëª¨ë“  ì‹œë” ì‹¤í–‰
sudo -u www-data php artisan db:seed --force

# ë˜ëŠ” íŠ¹ì • ì‹œë”ë§Œ ì‹¤í–‰
sudo -u www-data php artisan db:seed --class=UserSeeder --force
```

### ë§ˆì´ê·¸ë ˆì´ì…˜ í™•ì¸

```bash
# ë‹¤ì‹œ ìƒíƒœ í™•ì¸
sudo -u www-data php artisan migrate:status

# ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” í™•ì¸
mysql -u jinyerp -p jinyerp_demo -e "SHOW TABLES;"
```

---

## 3.9 Laravel ì €ì¥ì†Œ ë° ìºì‹œ ì„¤ì •

### Storage ì‹¬ë³¼ë¦­ ë§í¬ ìƒì„±

ì—…ë¡œë“œëœ íŒŒì¼ì´ publicì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡:

```bash
# storageë¥¼ publicìœ¼ë¡œ ë§í¬
sudo -u www-data php artisan storage:link

# ì¶œë ¥:
# The [public/storage] link has been connected to [storage/app/public].
```

### ìºì‹œ ìƒì„± (ì„±ëŠ¥ í–¥ìƒ)

Laravelì˜ ì„¤ì • íŒŒì¼ë“¤ì„ ìºì‹±í•˜ë©´ ì„±ëŠ¥ì´ í¬ê²Œ í–¥ìƒë¼ìš”:

```bash
# ì„¤ì • ìºì‹œ ìƒì„±
sudo -u www-data php artisan config:cache

# ë¼ìš°íŠ¸ ìºì‹œ ìƒì„±
sudo -u www-data php artisan route:cache

# ë·° ìºì‹œ ìƒì„±
sudo -u www-data php artisan view:cache

# ì´ë²¤íŠ¸ ìºì‹œ ìƒì„±
sudo -u www-data php artisan event:cache
```

> **ğŸ’¡ ì–¸ì œ ìºì‹œë¥¼ ì¬ìƒì„±í•˜ë‚˜ìš”?**
> ì„¤ì • íŒŒì¼, ë¼ìš°íŠ¸, ë·°ë¥¼ ìˆ˜ì •í•œ í›„ì—ëŠ” í•´ë‹¹ ìºì‹œë¥¼ ë‹¤ì‹œ ìƒì„±í•´ì•¼ í•´ìš”.

### ìºì‹œ í™•ì¸

```bash
# ìºì‹œ íŒŒì¼ í™•ì¸
ls -la bootstrap/cache/
```

`config.php`, `routes-v7.php` ë“±ì˜ íŒŒì¼ì´ ë³´ì´ë©´ ì„±ê³µ!

---

## 3.10 íŒŒì¼ ê¶Œí•œ ìµœì¢… ì„¤ì •

### ì „ì²´ ì†Œìœ ê¶Œ ì¬ì„¤ì •

```bash
# Laravel ì „ì²´ ë””ë ‰í† ë¦¬ ì†Œìœ ê¶Œ
sudo chown -R www-data:www-data /var/www/jinyerp_demo_01
```

### ì¼ë°˜ íŒŒì¼ ë° ë””ë ‰í† ë¦¬ ê¶Œí•œ

```bash
# ì¼ë°˜ íŒŒì¼ ê¶Œí•œ (644)
sudo find /var/www/jinyerp_demo_01 -type f -exec chmod 644 {} \;

# ë””ë ‰í† ë¦¬ ê¶Œí•œ (755)
sudo find /var/www/jinyerp_demo_01 -type d -exec chmod 755 {} \;
```

### ì“°ê¸° ê¶Œí•œ í•„ìš”í•œ ë””ë ‰í† ë¦¬

```bash
# storage ë””ë ‰í† ë¦¬ (ë¡œê·¸, ì„¸ì…˜, ìºì‹œ)
sudo chmod -R 775 /var/www/jinyerp_demo_01/storage

# bootstrap/cache ë””ë ‰í† ë¦¬
sudo chmod -R 775 /var/www/jinyerp_demo_01/bootstrap/cache
```

### artisan ì‹¤í–‰ ê¶Œí•œ

```bash
# artisan ëª…ë ¹ì–´ ì‹¤í–‰ ê¶Œí•œ
sudo chmod 755 /var/www/jinyerp_demo_01/artisan
```

### ê¶Œí•œ ì„¤ì • í™•ì¸

```bash
# ì£¼ìš” ë””ë ‰í† ë¦¬ ê¶Œí•œ í™•ì¸
ls -la /var/www/jinyerp_demo_01/ | grep -E "storage|bootstrap"
```

---

## 3.11 í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ (ì„ íƒì‚¬í•­)

Laravel í”„ë¡œì íŠ¸ì— í”„ë¡ íŠ¸ì—”ë“œ ì—ì…‹ì´ ìˆë‹¤ë©´ ë¹Œë“œí•´ì•¼ í•´ìš”.

### package.json í™•ì¸

```bash
# package.json íŒŒì¼ í™•ì¸
cat /var/www/jinyerp_demo_01/package.json
```

package.jsonì´ ì—†ë‹¤ë©´ ì´ ë‹¨ê³„ë¥¼ ê±´ë„ˆë›°ì„¸ìš”.

### Node.js ì˜ì¡´ì„± ì„¤ì¹˜

```bash
# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd /var/www/jinyerp_demo_01

# Node.js ì˜ì¡´ì„± ì„¤ì¹˜ (1GB RAM í™˜ê²½)
sudo -u www-data env NODE_OPTIONS="--max-old-space-size=512" npm ci
```

> **ğŸ’¡ `npm ci`ê°€ ë­”ê°€ìš”?**
> `npm install`ë³´ë‹¤ ë¹ ë¥´ê³  í´ë¦°í•œ ì„¤ì¹˜ ë°©ë²•ì´ì—ìš”. CI/CD í™˜ê²½ì— ìµœì í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

### í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ

```bash
# í”„ë¡œë•ì…˜ ë¹Œë“œ
sudo -u www-data npm run build
```

ë¹Œë“œê°€ ì™„ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš” (3-5ë¶„ ì†Œìš”)

### ë¹Œë“œ ê²°ê³¼ í™•ì¸

```bash
# ë¹Œë“œëœ íŒŒì¼ í™•ì¸
ls -la public/build/
```

manifest.jsonê³¼ assets ë””ë ‰í† ë¦¬ê°€ ìˆìœ¼ë©´ ì„±ê³µ!

---

## 3.12 Laravel ì„¤ì • ê²€ì¦

### ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœ í™•ì¸

```bash
# Laravel ë²„ì „ í™•ì¸
sudo -u www-data php artisan --version

# í™˜ê²½ ì •ë³´ í™•ì¸
sudo -u www-data php artisan env

# ë¼ìš°íŠ¸ ëª©ë¡ í™•ì¸
sudo -u www-data php artisan route:list
```

### ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í…ŒìŠ¤íŠ¸

```bash
# ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒíƒœ ì¬í™•ì¸
sudo -u www-data php artisan migrate:status

# Tinkerë¡œ ë°ì´í„°ë² ì´ìŠ¤ í…ŒìŠ¤íŠ¸
sudo -u www-data php artisan tinker
```

Tinkerê°€ ì‹¤í–‰ë˜ë©´:
```php
// ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í…ŒìŠ¤íŠ¸
DB::connection()->getPdo();

// í…Œì´ë¸” í™•ì¸
DB::select('SHOW TABLES');

// ì¢…ë£Œ
exit
```

### ë¡œê·¸ í™•ì¸

```bash
# Laravel ë¡œê·¸ ë””ë ‰í† ë¦¬ í™•ì¸
ls -la /var/www/jinyerp_demo_01/storage/logs/

# í˜„ì¬ ë¡œê·¸ í™•ì¸ (ì‹¤ì‹œê°„)
sudo tail -f /var/www/jinyerp_demo_01/storage/logs/laravel.log
```

`Ctrl + C`ë¡œ ì¢…ë£Œ

---

## âœ… 3ë‹¨ê³„ ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

ëª¨ë“  ë‹¨ê³„ë¥¼ ì™„ë£Œí•˜ì…¨ë‚˜ìš”? ì²´í¬ë¦¬ìŠ¤íŠ¸ë¡œ í™•ì¸í•´ë´…ì‹œë‹¤!

- [ ] GitHub ì €ì¥ì†Œ ì ‘ê·¼ ì„¤ì • (SSH í‚¤ ë˜ëŠ” Token)
- [ ] í”„ë¡œì íŠ¸ ì •ìƒ í´ë¡ 
- [ ] íŒŒì¼ ì†Œìœ ê¶Œ www-dataë¡œ ë³€ê²½
- [ ] Composer ì˜ì¡´ì„± ì„¤ì¹˜ ì™„ë£Œ
- [ ] .env íŒŒì¼ ìƒì„± ë° ì„¤ì •
- [ ] .env íŒŒì¼ ë³´ì•ˆ ê¶Œí•œ ì„¤ì •
- [ ] ì• í”Œë¦¬ì¼€ì´ì…˜ í‚¤ ìƒì„±
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ
- [ ] Storage ì‹¬ë³¼ë¦­ ë§í¬ ìƒì„±
- [ ] Laravel ìºì‹œ ì„¤ì • (config, route, view)
- [ ] íŒŒì¼ ê¶Œí•œ ìµœì¢… ì„¤ì •
- [ ] í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ (ì„ íƒì‚¬í•­)
- [ ] ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœ ê²€ì¦

### ìµœì¢… í™•ì¸ ëª…ë ¹ì–´

```bash
# ëª¨ë“  ì„¤ì • í•œ ë²ˆì— í™•ì¸
echo "=== Laravel Version ===" && sudo -u www-data php artisan --version
echo "=== Database ===" && sudo -u www-data php artisan migrate:status
echo "=== Storage Link ===" && ls -la public/ | grep storage
echo "=== Permissions ===" && ls -la storage/ | head -3
echo "=== Cache ===" && ls -la bootstrap/cache/ | grep -E "config|routes"
```

---

## ë¬¸ì œ í•´ê²°

### ë¬¸ì œ 1: Composer install ì‹¤íŒ¨ (ë©”ëª¨ë¦¬ ë¶€ì¡±)
```
Allowed memory size exhausted
```

**í•´ê²° ë°©ë²•**:
```bash
# ìŠ¤ì™‘ íŒŒì¼ ìƒì„± (ì•„ì§ ì•ˆ ë§Œë“¤ì—ˆë‹¤ë©´)
sudo fallocate -l 2G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile

# ë‹¤ì‹œ ì„¤ì¹˜
sudo -u www-data composer install --no-scripts
sudo -u www-data composer run-script post-autoload-dump
```

### ë¬¸ì œ 2: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨
```
SQLSTATE[HY000] [1045] Access denied
```

**í•´ê²° ë°©ë²•**:
```bash
# .env íŒŒì¼ í™•ì¸
cat .env | grep -E "DB_"

# MySQL ì‚¬ìš©ì ê¶Œí•œ ì¬í™•ì¸
mysql -u root -p -e "SHOW GRANTS FOR 'jinyerp'@'localhost';"

# ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ë‹¤ë©´ ì¬ì„¤ì •
mysql -u root -p -e "ALTER USER 'jinyerp'@'localhost' IDENTIFIED BY 'new_password';"
```

### ë¬¸ì œ 3: ê¶Œí•œ ë¬¸ì œ
```
failed to open stream: Permission denied
```

**í•´ê²° ë°©ë²•**:
```bash
# ì†Œìœ ê¶Œ ì¬ì„¤ì •
sudo chown -R www-data:www-data /var/www/jinyerp_demo_01

# storage ê¶Œí•œ ì¬ì„¤ì •
sudo chmod -R 775 /var/www/jinyerp_demo_01/storage
sudo chmod -R 775 /var/www/jinyerp_demo_01/bootstrap/cache
```

### ë¬¸ì œ 4: ìºì‹œ ë¬¸ì œ
```
Configuration cache file does not exist
```

**í•´ê²° ë°©ë²•**:
```bash
# ëª¨ë“  ìºì‹œ ì‚­ì œ
sudo -u www-data php artisan cache:clear
sudo -u www-data php artisan config:clear
sudo -u www-data php artisan route:clear
sudo -u www-data php artisan view:clear

# ìºì‹œ ì¬ìƒì„±
sudo -u www-data php artisan config:cache
sudo -u www-data php artisan route:cache
sudo -u www-data php artisan view:cache
```

### ë¬¸ì œ 5: Storage ë§í¬ ì—ëŸ¬
```
symlink(): File exists
```

**í•´ê²° ë°©ë²•**:
```bash
# ê¸°ì¡´ ë§í¬ ì‚­ì œ
sudo rm /var/www/jinyerp_demo_01/public/storage

# ë§í¬ ì¬ìƒì„±
sudo -u www-data php artisan storage:link
```

---

## ë‹¤ìŒ ë‹¨ê³„

ì¶•í•˜í•©ë‹ˆë‹¤! 3ë‹¨ê³„ë¥¼ ì™„ë£Œí•˜ì…¨ì–´ìš”! ğŸ‰

Laravel ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì„œë²„ì— ë°°í¬ë˜ì—ˆì–´ìš”. ì´ì œ ë„ë©”ì¸ì„ ì—°ê²°í•˜ê³  HTTPSë¥¼ ì„¤ì •í•  ì°¨ë¡€ì…ë‹ˆë‹¤!

<div style="text-align: center; margin: 40px 0;">
  <a href="./04.domain-https.md" style="display: inline-block; padding: 15px 40px; background-color: #3490dc; color: white; text-decoration: none; border-radius: 5px; font-size: 18px;">
    ğŸ”’ 4ë‹¨ê³„: ë„ë©”ì¸ ë° HTTPS ì„¤ì • ì‹œì‘í•˜ê¸° â†’
  </a>
</div>

---

[â† ì´ì „: ì„œë²„ í™˜ê²½ ì„¤ì •](./02.server-setup.md) | [ë©”ì¸ìœ¼ë¡œ](./index.md) | [ë‹¤ìŒ: ë„ë©”ì¸/HTTPS ì„¤ì • â†’](./04.domain-https.md)
